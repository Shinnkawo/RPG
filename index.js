let i = 0
let n
let y = -18
let x = 111
let battle = "No"
let map = ""
let count = 0
let Name = ""
let Lv = 1
let HP,ATK,DEF,money,exp,M_HP,M_MP
let MP = 0
let E_HP,E_DEF,E_id,E_ATK,E_money,E_exp,E_Lv
let log_F,log_S,log_T
let M_N
let STARTED = "No"
let list = []
let list_2 = []
let on = "no"

const Feeld = {
    "1":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "2":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "3":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "4":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "5":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "6":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "7":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "8":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "9":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "10":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "11":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "12":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "13":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "14":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "15":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "16":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "17":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111112222222222222222222222222222222222222222222222222222222222222211111333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "18":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111122222222222222222222222222222222222222222222222222221111111111133333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "19":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111122222222222222222222222111111111111111111111111111111133333333333311111111122222211111111111111111111122222222222222221111111111111111122221111111111111122222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "20":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111111112222222222221111111111111111111111111111111111333333333333331111111111222222211111111111111111111111112222222222222111111111111112221111111111111111111111222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "21":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111222222221111222222222221111111111111111111111111111111111111111111111111122222221111111111111111111111111111111111111533333111111111111111222222111111111111111111111111111112222222222221111111111112221111111111111111111111111122222222211111111111111111111111111111122222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "22":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111411111111122222111111111111111111111111111111111111111111111111111111111111111112222221111111111111111111111111111111111111333333511111111111111112222222111111111111111111111111111122222222222111111111111112211111111111111111111111111222222222111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "23":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111112221111111111111111111111111111111111111111111111111111111111111111112222111111111111111111111111111111111111111111133331111111111111111111111111111111111111111111111111112222222222111111111111112211111111111111111112222222222111111111111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "24":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111222111111111111111111111111111111111111111111113333331111111111111111111111111111111111111111111111111111111111111111111111111112211111111111111111122222222211111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "25":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111221111111111111111111111111111111111111111111113333333111111111111111111111111111111111111111111111111111111111111111111111111112111111111111111111111122222221111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "26":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111133333111111111111111111111111111111111111111111111111111111111111111111111111111112111111111111111112222222221111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "27":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111333311111111111111111111111111111111111111111111111111111111111111111111111111112111111111111111222222222222111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "28":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111333331111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222111111111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "29":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111121111111111111111111111111111111111111111111111111113333331111111111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "30":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222212222222221112222211111111111111111111111111111111111111111111111111111122111111111111111111122211111111111111111111111111113333333331111111111111111111111111111111111111111111111111111111111111111111111111111111122222222222222111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222222222222222222",
    "31":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111222111111111111111112222221111111111111111111111333333333333333311111111111111111111111111111111111111111111111111111111111111111111111111111111122222222222222111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222222222222222222222222",
    "32":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111122222211111111111111122222222111111111111111133333333333333322233333311111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222111111111111111111111112222211111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222222222222222222222222222",
    "33":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111122222222221112222222222222222222111111111133333333333333322222222233333333331111111111111111111111111111111111111111111111111111111111111111111111111122222222222211111111111111111111111222222211111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222",
    "34":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222212333311111111111111111111111111111222222222211111111111111111111111111111111111111111112222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222222222222",
    "35":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221311111111111111111111111111111122222222222222111111111111111111111111111111111111111211112222222111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222",
    "36":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111112222222222222222222221111111111111111111111111111111111111111111222211111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222",
    "37":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222221111111111111111111122222222211111111111111111111111111111111111111111111111112221111111111111111111111111111111111111111111111111111111111111111111111111122222222222222222222222222222222222222222222",
    "38":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111111111111111111122122222211111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222",
    "39":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111111111111111111111111111111111222222222222222222222222222222222",
    "40":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111111111111222222222222222222222222222222222",
    "41":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666622222222222222222222222222221111111111111111111111111111111111111111222222222222222222222222222222222",
    "42":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666622222222222222222222222222222211111111111111111111111111111111111222222222222222222222222222222222",
    "43":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666222222222222222222222222222222222111111111111111111111111111122222222222222222222222222222222222",
    "44":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666622222222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "45":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666662222222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "46":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666666666222222222222222222222222222222222222222111111111111111111111222222222222222222222222222222222",
    "47":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666622222222222222222222222222222222222211111111111111111111111222222222222222222222222222222222",
    "48":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666666666662222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "49":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666666666662222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "50":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666666666666666222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "51":"22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "52":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "53":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "54":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222221111111111111111111111111122222222222222222222222222222222",
    "55":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222222111111111111111111111111112222222222222222222222222222222",
    "56":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "57":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222211111111111111111111111112222222222222222222222222222222222",
    "58":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "59":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666666666622222222222222222222222222222111111111111111111111111111112222222222222222222222222222222",
    "60":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666666666666666222222222222222222222222222222211121111111111111111111111222222222222222222222222222222222",
    "61":"2222223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666666666666666222222222222222222222222222222222211111111111111111111111222222222222222222222222222222222",
    "62":"2223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666666666662222222222222222222222222222222222211111111111111111111111222222222222222222222222222222222",
    "63":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666666666622222222222222222222222222222222111111111111111111111111111222222222222222222222222222222222",
    "64":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666666666222222222222222222222222222222221122221111111111111111111111122222222222222222222222222222222",
    "65":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666666666222222222222222222222222222222222222211111111111111111111111122222222222222222222222222222222",
    "66":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222226666666666666666666662222222222222222222222222222222222211111111111111111111111111122222222222222222222222222222222",
    "67":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666666666622222222222222222222222222222222222221111111111111111111111111122222222222222222222222222222222",
    "68":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222266666666666666666222222222222222222222222222222222222221111111111111111111111111222222222222222222222222222222222",
    "69":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666666666666622222222222222222222222222222222222221111111111111111111111111111222222222222222222222222222222222",
    "70":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222666566622222222222222222211111111111111111111111111111111111111111111111112222222222222222222222222222222222",
    "71":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222",
    "72":"2333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222",
    "73":"2223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222222222",
    "74":"2222223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111111111111111111111111111111111111111111111111111111222122222222222222222222222222222222222",
    "75":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222",
    "76":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "77":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "78":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",
    "80":"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"
}

const town = {
    "1":"4444444444444444444444444",
    "2":"4111111111111111111111114",
    "3":"4113333333311111111111114",
    "4":"4113333333311111111111114",
    "5":"4113353333311111111111114",
    "6":"4111111111111111111111114",
    "7":"4111111111111111111111114",
    "8":"4111111111111111111333114",
    "9":"4111111111111111111333114",
    "10":"4111111111111111111363114",
    "11":"4111111111111111111111114",
    "12":"4444444444444444444444444"
};

const R_house = {
    "1":"444444444444444",
    "2":"433333333333334",
    "3":"431111111111134",
    "4":"431111111111134",
    "5":"431111111111134",
    "6":"431111111111134",
    "7":"433333313333334",
    "8":"444444444444444"
}

const house = {
    "1":"4444444",
    "2":"4333334",
    "3":"4311134",
    "4":"4311134",
    "5":"4311134",
    "6":"4331334",
    "7":"4444444"
}

const cave = {
    "1":"1111111111111111111111111111111111111111111111111111111111111111",
    "2":"1111111222222222222222222222222222222222222222222222222211111111",
    "3":"1111111222222222222222222222222222222222222222222222222211111111",
    "4":"1111111221111111111111111111112211111111111111221111112211111111",
    "5":"1111111221111111122111111111112211111111111111221111112211111111",
    "6":"1111111221111111122111111111112211111111111111221111112211111111",
    "7":"1111111221111111221111111111112211111111111111221111112211111111",
    "8":"1111111221111111222222222222222211111111111111221111122221111111",
    "9":"1111111221111111222222222222222211111111111111221111122221111111",
    "10":"1111111221111111221111111111122111111111111111221111122231111111",
    "11":"1111111221111111221111111111122111111111111111221111111111111111",
    "12":"1111111221111111221111111111122111111111111111221111111111111111",
    "13":"1111111221111111221111111111122111111111111111222222222211111111",
    "14":"1111111221111111111111111111122111111111111111222222222211111111",
    "15":"1222221221111111111111111111122111111111111111111111111111111111",
    "16":"1222222222222222211111111111122222222222222222222111111111111111",
    "17":"1322221221222222211111111111122222222222222222222111111111111111",
    "18":"1111111111111111111111111111111111111111111111111111111111111111",
}

const l_D1 = {
    "1":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
    "2":"1132111111111111111111111111111111111122222222222222222222222222211111111111111111111111111111111111111111111111111111111111111111111111111111",
    "3":"1122111111111111111111111111122111111122222222222222222222222222211112222221111111111111111111111111111111111111111111111111111111111111111111",
    "4":"1122111111111111111111111111122111111122111111111111111111111112211112222222222222222221111111111111111111111111111111111111111111111111111111",
    "5":"1122111111111111111111111111122111111122111111111111111111111112211112222222222222222221111111111111111111111111111111111111111111111111111111",
    "6":"1122222222222222222222222222222111111122222222222222222221111112211114222221111111111221111111111111111111111111111111111111111111111111111111",
    "7":"1122222222222222222222222222222111111122222222222222222221111111111111111111111111111221111111111111111111111111111111111111111111122111111111",
    "8":"1122111111111111111221111111122111111111111111111111112211111111111111111111111111111221111111111111111111111111111111111111111111122111111111",
    "9":"1122111111111111111221111111122111111111111111111111112211111111111111111111111111111221111111111111111111111111111111111111111111122111111111",
    "10":"1122111111111111111222222222222111111111111111111111112211111111111111111111111111111222222222222222222222222222111111111111111111122111111111",
    "11":"1122111112211111111222222222222111111111111111111111112211111111111111111111111111111222222222222222222222222222111111111111111111122111111111",
    "12":"1122111112211111111221111221111111111111111111111111112211111111111111111111111111111111111111111111122111111111111111111222222222222111111111",
    "13":"1122111222222222111221111221111111111111111111111111112211111111111111111111221111111111111111111111122111111111111111111222222222222111111111",
    "14":"1122111222222222111221111221111111111222222222221111112211111111111111111111221111111111111122211111122111111111111111111221111111111111111111",
    "15":"1122111112211122111221111221111111111222222222221111112211111111111111111111221111111111111122211111122111111111111111111221111111111111111111",
    "16":"1122111112211122111221111221111111111221111111221111112211111111111111111111222222222222222222111111122111111111111111111222222222211111111111",
    "17":"1122222222222222111221111221111111111221111111221111112211111111111111111111222222222222222222111111122111111111111111111222222222211111111111",
    "18":"1122222222222222111222222222222222222221111111222222222221111111111111111111111111111111111122111111122222222222222221111111111112211111111111",
    "19":"1111111111111111111222222222222222222221111111222222222221111111111111111111111111111111111122111111122222222222222221111111111112211111111111",
    "20":"1111111111111111111111111111111122111111111111111111122111111122111111112211111111111111111122111111111111111111111221111111111112211111111111",
    "21":"1111111111111111111111111111111122111111111111111111122111111122111111112222222221221111111122111111111111111111111221111111111112211111111111",
    "22":"1111111111111111111111111111111122111111111111111111122111111122111111112211111111222222222122111111111111111111111221111111111112211111111111",
    "23":"1111111111111111111111111111111122111111111111111111122222222222111111112211111111221111111122222222222211111111111222222222222222211111111111",
    "24":"1111111111111111111111111111111122111111111111111111122111111122111111112222222221221111111122222222222211111111111222222222222222211111111111",
    "25":"1111122222222222222222222222222222111111111111111111122111111122222222222211111111221111111122111111112222222222111111111111111112211111111111",
    "26":"1111122222222222222222222222222222111111111111111111122111111122111111112211111111221111111122111111112222222222111111111111111112211111111111",
    "27":"1111122111111111111111111111111111111111111111111111122222222222111111112211111111221111111122111111112211111111111111111111111112211111111111",
    "28":"1111122111111111111111111111111111111111111111111111122111111122111111112211111111221111111122111111112211111111111111111111111112211111111111",
    "29":"1111122111111111111111111111111111111111111111111111122111111122111111112211111111222222222122111111112211111111111111111111111112211111111111",
    "30":"1111122111111111111111111111111111111111111111111111122222222222111111112211111111221111111122111111112222222222222222111111111112211111111111",
    "31":"1222222222222222221111111111111111111111111111111111122111111122222222212211111111221111111122111111112222222222222222111111111112211111111111",
    "32":"1221111111111111221111111111111111111111111111111111111111111122111111112211111111221111111122111111111111111111111122111111111112211111111111",
    "33":"1221111111111111221111111111111111111111111111111111111111111122111111112211111111222222222222111111111111111111111122111111111112211111111111",
    "34":"1221111111111111221111111111111111111111111111111111111111111122222222112211111111221111111122111111111111111111111122222222222222222222222221",
    "35":"1222222222222222221111111111111111111111111111111111111111111122111111112211111111221111111122111111111111111111111122222222222222222222222221",
    "36":"1222222222222222221111111111111111111111111111111111111111111111111111112222222222221111111122111111111111111111111111111111111111111111111111",
    "37":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"
}

const l_D2 = {
    "1":"11111111111111111111111111111111111111111111",
    "2":"12211111111111111111111111111111111111111111",
    "3":"12211111111111111111111111111111111111111111",
    "4":"12211111111111111111111111111111111111111111",
    "5":"12211111111111111111111111111111111111111111",
    "6":"12211111111111111111111113222111111111111111",
    "7":"12211111111111111111111112222111111111111111",
    "8":"12211111221111111111111112222111111111111111",
    "9":"12211111221111111111111112222111111111111111",
    "10":"12211111221111111111111111221111111111111111",
    "11":"12211111222222222222222222222222222222222111",
    "12":"12211111222222222222222222222222222222222111",
    "13":"12211111221111111111111111221111111111221111",
    "14":"12211111221111111111111111221111111111221111",
    "15":"12211111221111111111111111221111111111221111",
    "16":"12211111221111111111111111221111111111221111",
    "17":"12211111221111111111111111221111111111221111",
    "18":"12211111221111111111111111221111111111221111",
    "19":"12211111221111111111111111221111111111221111",
    "20":"12211111221111111111111111221111111122222211",
    "21":"12211111221111111111111111221111111122222211",
    "22":"12211111221111111111111111221111111122222211",
    "23":"12211111221111111111111111221111111122222411",
    "24":"12211111221111111111111111221111111111111111",
    "25":"12211111221111111111111111221111111111111111",
    "26":"12211111221111111122222222221111111111111111",
    "27":"12211111221111111122222222221111111111111111",
    "28":"12211111221111111122222222221111111111111111",
    "29":"12222222221111111122222222231111111111111111",
    "30":"12222222221111111112211111111111111111111111",
    "31":"12211111221111111112211111111111111111111111",
    "32":"12211111221111111112211111111111111111111111",
    "33":"12211111221111111112211111111111111111111111",
    "34":"12211111221111111112211111111111222223111111",
    "35":"11111111222222222222222222222222222222111111",
    "36":"11111111222222222222222222222222222222111111",
    "37":"11111111111111111122231111111111222222111111",
    "38":"11111111111111111111111111111111111111111111"
}

const l_D3 = {
    "1":"1111111111111",
    "2":"1122222222211",
    "3":"1122222222211",
    "4":"1122222222211",
    "5":"1122222222211",
    "6":"1111112111111",
    "7":"1111112111111",
    "8":"1111112111111",
    "9":"1111113111111",
    "10":"1111111111111",
}


let where = Feeld
const hiragana = "あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもらりるれろやゆよわんゃゅょっをぁぃぅぇぉ・？！ー゛゜"
const others = {"1":"゛","2":"゜","3":"もどる","4":"決定"}

function start() {
    document.getElementById('Start').remove()

    let title = document.createElement('h1')
    title.textContent = "名前を入力してください"
    document.getElementById('setting').appendChild(title)

    title = document.createElement('h1')
    title.textContent = "＊＊＊＊"
    title.setAttribute('id','NAME')
    document.getElementById('setting').appendChild(title)

    for (let i = 0; i < 6; i++) {
        for (let ia = 0; ia < 4; ia++) {
            title = document.createElement('button')
            title.textContent = hiragana[i * 5 + ia]
            title.setAttribute('id','NameButton')
            title.setAttribute('onclick',`edit(${i * 5 + ia})`)
            document.getElementById('setting').appendChild(title)    
            
        }
        
        title = document.createElement('button')
        title.textContent = hiragana[i * 5 + 5]
        title.setAttribute('id','NameButton')
        title.setAttribute('onclick',`edit(${i*5+5})`)
        title.style.marginRight = "10px"
        document.getElementById('setting').appendChild(title)   

        for (let ia = 0; ia < 5; ia++) {
            title = document.createElement('button')
            title.textContent = hiragana[i * 5 + ia + 25]
            title.setAttribute('onclick',`edit(${i * 5 + ia + 25})`)
            title.setAttribute('id','NameButton')
            document.getElementById('setting').appendChild(title)    
            
        }

        document.getElementById('setting').appendChild(document.createElement('br'))

    }

    for (let b = 0; b < 2 ; b++) {
        title = document.createElement('button')
        title.textContent = others[b+1]
        title.setAttribute('id','NameButton')
        title.setAttribute('onclick',`edit(${59+b})`)
        title.style.marginRight = "10px"
        document.getElementById('setting').appendChild(title)   

    }

    for (let b = 0; b < 2 ; b++) {
        title = document.createElement('button')
        title.textContent = others[b+3]
        title.setAttribute('id','some')
        title.setAttribute('onclick',`some(${b+1})`)
        title.style.marginRight = "10px"
        document.getElementById('setting').appendChild(title)   

    }


}

n = 0
function MAP() {
    map = ""
    document.getElementById('map').remove()
    const div = document.createElement('div')
    div.setAttribute('id','map')
    document.body.appendChild(div)

    for (let a = 1; a < 12; a++) {
        if (!where[(y * -1) + a]) {
            for (let b = 0; b < 13; b++) {
                map += "0";   
            }
        } else {
            for (let b = 0; b < 13; b++) {
                if (!where[(y * -1) + a][b + x]) {
                    map += "0"
                } else {
                    map += `${where[(y * -1) + a][b + x]}` 
                }
            }
        }
    }

    i = 0
    for (let p = 0; p < 9; p++) {
    
        for (let q = 0; q < 13; q++) {
    
            let pop = document.createElement('img')

            if (where == Feeld) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"plain.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"water.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"Rock.png")
                } else if (map[i] == "4") {
                    pop.setAttribute('src',"town.png")
                } else if (map[i] == "5") {
                    pop.setAttribute('src',"enter.png")
                } else if (map[i] == "6") {
                    pop.setAttribute('src',"mountain.png")
                }

            } else if (where == town) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"plain.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"water.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "4") {
                    pop.setAttribute('src',"worp.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"mountain.png")
                } else if (map[i] == "5") {
                    pop.setAttribute('src',"door.png")
                }
                else if (map[i] == "6") {
                    pop.setAttribute('src',"door2.png")
                }

            } else if (where == R_house || where == house) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"tile.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"water.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "4") {
                    pop.setAttribute('src',"worp.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"mountain.png")
                } else if (map[i] == "5") {
                    pop.setAttribute('src',"door.png")
                }
            } else if (where == cave) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"Rock.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"mountain.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"upstair.png")
                }
            } else if (where == l_D1 || where == l_D3) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"Rock.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"road.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"upstair.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "4") {
                    pop.setAttribute('src',"upstair.png")
                }
            } else if (where == l_D2) {
                if (p == 4 && q == 6) {
                    pop.setAttribute('src',"Null.png")
                }else if (map[i] == "1") {
                    pop.setAttribute('src',"Rock.png")
                } else if (map[i] == "2") {
                    pop.setAttribute('src',"road.png")
                } else if (map[i] == "3") {
                    pop.setAttribute('src',"upstair.png")
                } else if (map[i] == "0") {
                    pop.setAttribute('src',"Null.png")
                } else if (map[i] == "4") {
                    pop.setAttribute('src',"upstair.png")
                }
            }


            pop.setAttribute('id',`map${i}`)
            pop.style.width = "64px"
            pop.style.height = "64px"
            document.getElementById('map').appendChild(pop)
    
            i++
    
        }
    
        document.getElementById('map').appendChild(document.createElement('br'))
        n += 20
    }
}

document.addEventListener('keypress', keypress_ivent);

function keypress_ivent(e) {
    if (battle == "No" && STARTED == "Yes") {
        if (e.key === "s") {
            if (where == Feeld && map[71] !== "2" && map[71] !== "0" && map[71] !== "3" && map[71] !== "6") {
                y--
            } else if (where == town && map[71] !== "2" && map[71] !== "0" && map[71] !== "3") {
                y--
            } else if (where == house || where == R_house && map[71] !== "2" && map[71] !== "0" && map[71] !== "3") {
                y--
            } else if (where == cave && map[71] !== "1" && map[71] !== "0") {
                y--
            } else if (where == l_D1 && map[71] !== "1") {
                y--
            } else if (where == l_D2 && map[71] !== "1") {
                y--
            }

            console.log(map[71])


            if (where == town && map[71] == "4") {
                where = Feeld
                x = 112
                y = -17
            } else if (where == Feeld && map[71] == "4") {
                where = town
                x = 2
                y = -6
            } else if (where == R_house && map[71] == "4") {
                where = town
                x = -1
                y = 0
            } else if (where == l_D1 && map[71] == "4") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D1 && map[71] == "3") {
                where = Feeld
                x = 1
                y = -2
            } else if (where == house && map[71] == "4") {
                where = town
                x = 14
                y = -5
            } else if (where == l_D2 && map[71] == "3") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D2 && map[71] == "4") {
                where = l_D3
                x = 0
                y = -4
            }

        } else if (e.key === "w") {
            if (where == Feeld && map[45] !== "2" && map[45] !== "0" && map[45] !== "3" && map[45] !== "6") {
                y++
            } else if (where == town && map[45] !== "2" && map[45] !== "0" && map[45] !== "3") {
                y++
            } else if (where == house || where == R_house && map[45] !== "2" && map[45] !== "0" && map[45] !== "3") {
                y++
            } else if (where == cave && map[45] !== "1" && map[45] !== "0") {
                y++
            } else if (where == l_D1 && map[45] !== "1") {
                y++
            } else if (where == l_D2 && map[45] !== "1") {
                y++
            }



            if (where == town && map[45] == "4") {
                where = Feeld
                x = 112
                y = -17
            } else if (where == Feeld && map[45] == "4") {
                where = town
                x = 2
                y = -6
            } else if (where == town && map[45] == "5") {
                where = R_house
                x = 1
                y = -2
            } else if (where == Feeld && map[45] == "5") {
                where = l_D1
                x = -4
                y = 3
            } else if (where == l_D1 && map[45] == "4") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D1 && map[45] == "3") {
                where = Feeld
                x = 400
                y = -65
            } else if (where == town && map[45] == "6") {
                where = house
                x = -3
                y = -1
            } else if (where == l_D2 && map[45] == "3") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D2 && map[45] == "4") {
                where = l_D3
                x = 0
                y = -4
            }


        } else if (e.key === "a") {
            if (where == Feeld && map[57] !== "2" && map[57] !== "0" && map[57] !== "3" && map[57] !== "6") {
                x--
            } else if (where == town && map[57] !== "2" && map[57] !== "0" && map[57] !== "3") {
                x--
            } else if (where == house || where == R_house && map[57] !== "2" && map[57] !== "0" && map[57] !== "3") {
                x--
            } else if (where == cave && map[57] !== "1" && map[57] !== "0") {
                x--
            } else if (where == l_D1 && map[57] !== "1") {
                x--
            } else if (where == l_D2 && map[57] !== "1") {
                x--
            }



            if (where == town && map[57] == "4") {
                where = Feeld
                x = 112
                y = -17
            } else if (where == Feeld && map[57] == "4") {
                where = town
                x = 2
                y = -6
            } else if (where == cave && map[57] == "3") {
                where = Feeld
                x = 238
                y = -16
            } else if (where == l_D1 && map[57] == "4") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D1 && map[45] == "3") {
                where = Feeld
                x = 400
                y = -65
            } else if (where == l_D2 && map[45] == "3") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D2 && map[45] == "4") {
                where = l_D3
                x = 0
                y = -4
            }
            

        } else if (e.key === "d") {
            if (where == Feeld && map[59] !== "2" && map[59] !== "0" && map[59] !== "3" && map[59] !== "6") {
                x++
            } else if (where == town && map[59] !== "2" && map[59] !== "0" && map[59] !== "3") {
                x++
            } else if (where == house || where == R_house && map[59] !== "2" && map[59] !== "0" && map[59] !== "3") {
                x++
            } else if (where == cave && map[59] !== "1" && map[59] !== "0") {
                x++
            } else if (where == l_D1 && map[59] !== "1") {
                x++
            } else if (where == l_D2 && map[59] !== "1") {
                x++
            }


            if (where == town && map[59] == "4") {
                where = Feeld
                x = 112
                y = -17
            } else if (where == Feeld && map[59] == "4") {
                where = town
                x = 2
                y = -6
            } else if (where == Feeld && map[59] == "5") {
                where = cave
                x = -5
                y = -12
            }
            else if (where == cave && map[59] == "3") {
                where = Feeld
                x = 241
                y = -17
            } else if (where == l_D1 && map[59] == "4") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D1 && map[59] == "3") {
                where = Feeld
                x = 400
                y = -65
            } else if (where == l_D2 && map[59] == "3") {
                where = l_D2
                x = -5
                y = 3
            } else if (where == l_D2 && map[59] == "4") {
                where = l_D3
                x = 0
                y = -4
            }


        }

    
        if (e.key == "w" || e.key == "a" || e.key == "s" || e.key == "d") {
            console.log(`${x}と${y}`)
        /*    if (map[58] == "1") {
                if (Math.floor(Math.random() * 10) + 1 == "1") {
                    document.getElementById('Mob').innerHTML = ""
                    Battle()
                }
        */
            
            }
            MAP()
        }


}
    


function magic() {
    const dialog = document.getElementById('magic')
    const cmd = document.getElementById("command")

    let mag

    if (document.getElementById('m')) {
        document.getElementById('Magic').innerHTML = ""

    }
    

    for (let i = 0; i < list.length; i++) {
        mag = document.createElement('button')
        mag.setAttribute('onclick',`mc(${i})`)
        mag.setAttribute('id','m')
        mag.textContent = `${list[i]}`
        document.getElementById('Magic').appendChild(mag)

    }

    dialog.show()
    cmd.removeAttribute('open')

    dialog.setAttribute("open","true")
}

function mc(n) {
    if (n == "0") {

        if (HP == M_HP) {

            setTimeout(() => {
                LOG('回復する必要はなさそうだ')
                setTimeout(() => {
                    LOG('どうする?')
                }, 500);
            }, 500);
        } else {
            LOG(`${Name}はマジックドレインを唱えた！！`)

            const magic = document.getElementById('magic')
            magic.removeAttribute('open')

            let heal
            if (MP >= 3) {
                MP -= 3
                heal = Math.floor(Math.random() * 5) + 1
                HP += heal
                if (M_HP < HP) {
                    heal -= HP - M_HP
                    HP = M_HP
                }
    
                setTimeout(() => {
                    LOG(`${heal}回復した`)
                    setTimeout(() => {
                        reload()
                        E_Turn()
                    }, 500);
                }, 500);
    
            } else {
                setTimeout(() => {
                    LOG('しかし、MPが足りなかった')
                }, 500);
            }   
        }
    }
    
}

function cancel() {
    const magic = document.getElementById('magic')
    const item = document.getElementById('item')
    const cmd = document.getElementById("command")

    cmd.setAttribute('open','true')
    magic.removeAttribute('open')
    item.removeAttribute('open')
}

function Battle() {
    battle = "Yes"
    let Mob = document.createElement('img')
    if ("1" == "1") {
        alert('OK')
        Mob.setAttribute('src',"Devi.png")
        Mob.style.width = "256px"
        E_HP = "5"
        M_N = "Devi"
        E_id = "0"
        E_DEF = "3"
        E_ATK = "24"
        E_money = "3"
        E_exp = "4"
        E_Lv = 1
    }

    document.getElementById('Mob').appendChild(Mob)

    document.getElementById('name').textContent = Name
    document.getElementById('Lv').textContent = `Lv. ${Lv}`
    document.getElementById('HP').textContent = `HP ${HP}`
    document.getElementById('MP').textContent = `MP ${MP}`
    
    const btl = document.getElementById("battle")
    const prf = document.getElementById("profile")
    const cmd = document.getElementById("command")
    const log = document.getElementById("log")

    btl.show();
    cmd.show()
    prf.show()
    log.show()
    log.setAttribute("open", "true");
    btl.setAttribute("open", "true");
    cmd.setAttribute("open", "true");
    prf.setAttribute("open", "true");
    
    LOG(`${M_N}が現れた`)

};

function reload() {
    document.getElementById('HP').textContent = `HP ${HP}`
    document.getElementById('MP').textContent = `MP ${MP}`
    if (HP <= 0) {
        LOG('死んでしまった')
        const died = document.getElementById("died")

        died.show()
        died.setAttribute("open", "true")
    }

}

function away() {

    const cmd = document.getElementById('command')
    cmd.removeAttribute('open')

    const away = Math.floor(Math.random() * 100) + 1
    if ((Lv/(Lv+E_Lv)) * 100 <= away) {
        LOG('逃げ出すことに成功した！！')
        setTimeout(() => {
            battle = "No"

            document.getElementById('a').textContent = ""
            document.getElementById('b').textContent = ""
            document.getElementById('c').textContent = ""
            document.getElementById('d').textContent = ""

            let log = document.getElementById("log")
            log.removeAttribute('open')
            log = document.getElementById("command")
            log.removeAttribute('open')
            log = document.getElementById("profile")
            log.removeAttribute('open')
            log = document.getElementById("battle")
            log.removeAttribute('open')
        }, 500);
    } else {
        LOG('回り込まれてしまった！！')
        setTimeout(() => {
            E_Turn()
        }, 500);
    }
}

function attack() {
    if (battle == "Yes") {

        const log = document.getElementById("command")
        log.removeAttribute('open')

        setTimeout(() => {
            LOG(`${Name}の攻撃`)

            const random = Math.floor(Math.random() * 255) + 1
            let damage
    
            if (Math.floor(Math.random() * 32) + 1 == "1") {
                //会心の一撃
                damage = Math.floor(ATK - ( ATK / 2 * random ) / 256)
                E_HP = E_HP - damage
                LOG('会心の一撃')

            } else {
                //通常の一撃
                damage = Math.floor((random * ( ATK - E_DEF / 2 + 1) / 256 + ATK - E_DEF / 2 ) / 4)
                E_HP = E_HP - damage            
            }
    
            setTimeout(() => {
                LOG(`${damage}のダメージ`)
                console.log(E_HP)
                
                E_Turn()   
            }, 500);
        }, 500);

    }
}

function item() {
    const dialog = document.getElementById('item')
    const cmd = document.getElementById("command")

    let goods

    if (document.getElementById('g')) {
        document.getElementById('item').innerHTML = ""

    }
    

    for (let i = 0; i < list_2.length; i++) {
        goods = document.createElement('button')

        goods.setAttribute('onclick',`it(${list_2[i]})`)
        goods.setAttribute('id','g')
        goods.textContent = `${list_2[i]}`
        document.getElementById('Item').appendChild(goods)

    }

    dialog.show()
    cmd.removeAttribute('open')

    dialog.setAttribute("open","true")
}

function it(a) {
    if (a == "薬草") {
        alert("aa")
    } else {
        LOG('特に効果はないようだ')

    }

    const dialog = document.getElementById('Item')
    const cmd = document.getElementById("command")

    dialog.removeAttribute('open')
    cmd.show()
    cmd.setAttribute('open','true')
}


function E_Turn() {
    if (E_HP <= "0") {
        //撃破
        LOG(`${M_N}を倒した`)
        setTimeout(() => {

            LOG(`${E_money}のお金を手に入れた`)
            setTimeout(() => {
                LOG(`${E_exp}の経験値を手に入れた`)

        
                setTimeout(() => {

                    if (exp >= "5" && Lv == "1") {
                        Lv++
                        LvUP()
                        list = new Array("マジックドレイン")
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                        
                    } else if (exp >= "20" && Lv == "2") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    } else if (exp >= "40" && Lv == "3") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "65" && Lv == "4") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "95" && Lv == "5") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "130" && Lv == "6") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "170" && Lv == "7") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "215" && Lv == "8") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "265" && Lv == "9") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "320" && Lv == "10") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "380" && Lv == "11") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "445" && Lv == "12") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "515" && Lv == "13") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "590" && Lv == "14") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "670" && Lv == "15") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "755" && Lv == "16") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "845" && Lv == "17") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "940" && Lv == "18") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1040" && Lv == "19") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1145" && Lv == "20") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1255" && Lv == "21") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1370" && Lv == "21") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1490" && Lv == "23") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1615" && Lv == "24") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1745" && Lv == "25") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "1880" && Lv == "26") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2020" && Lv == "27") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2165" && Lv == "28") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2315" && Lv == "29") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2470" && Lv == "30") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2630" && Lv == "31") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2795" && Lv == "32") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "2965" && Lv == "33") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "3140" && Lv == "34") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "3320" && Lv == "35") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "3505" && Lv == "36") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "3695" && Lv == "37") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "3890" && Lv == "38") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "4090" && Lv == "39") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "4295" && Lv == "40") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "4505" && Lv == "41") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "4720" && Lv == "42") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "4940" && Lv == "43") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "5165" && Lv == "44") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "5395" && Lv == "45") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "5630" && Lv == "46") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "5870" && Lv == "47") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "6115" && Lv == "48") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "6365" && Lv == "49") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    }  else if (exp >= "6620" && Lv == "50") {
                        Lv++
                        LvUP()
                        setTimeout(() => {
                            LOG(`${Name}はレベルが${Lv}に上がった`)

                            setTimeout(() => {
                                battle = "No"
                                money += E_money
                                exp += E_exp
            
                                document.getElementById('a').textContent = ""
                                document.getElementById('b').textContent = ""
                                document.getElementById('c').textContent = ""
                                document.getElementById('d').textContent = ""
                    
                                let log = document.getElementById("log")
                                log.removeAttribute('open')
                                log = document.getElementById("command")
                                log.removeAttribute('open')
                                log = document.getElementById("profile")
                                log.removeAttribute('open')
                                log = document.getElementById("battle")
                                log.removeAttribute('open')
                            }, 2000);
                        }, 500);
                    } else {
                        battle = "No"
                        money += E_money
                        exp += E_exp
    
                        document.getElementById('a').textContent = ""
                        document.getElementById('b').textContent = ""
                        document.getElementById('c').textContent = ""
                        document.getElementById('d').textContent = ""
            
                        let log = document.getElementById("log")
                        log.removeAttribute('open')
                        log = document.getElementById("command")
                        log.removeAttribute('open')
                        log = document.getElementById("profile")
                        log.removeAttribute('open')
                        log = document.getElementById("battle")
                        log.removeAttribute('open')
                    }

                }, 500);
            }, 500);
        }, 500);

    } else {

        let damage
        const random = Math.floor(Math.random() * 255) + 1

        setTimeout(() => {
            LOG(`${M_N}の攻撃`)

            if (E_id == "0") {
                damage = Math.floor((random * ( E_ATK - DEF / 2 + 1) / 256 + E_ATK - DEF / 2 ) / 4)
                setTimeout(() => {
                    LOG(`${M_N}はフォークを投げてきた`)
                    if (damage <= "0") {
                        setTimeout(() => {
                            LOG(`${Name}は攻撃をはじいた`)
                        }, 500);
                    } else {
                        HP = HP - damage
                        setTimeout(() => {
                            LOG(`${Name}は${damage}のダメージを受けた`)                            
                        }, 500);
                    }

                    if (HP > 0) {
                        setTimeout(() => {
                            LOG('どうする？')
                            const log = document.getElementById("command")
                            log.setAttribute("open", "true");

                            setTimeout(() => {
                                reload()

                            }, 500);
                        }, 500);
                    } else {
                        setTimeout(() => {
                            reload()

                        }, 500);
                    }
                }, 500);
    
            }
        }, 500);
    }
}

function LvUP() {
    const atk = Math.floor(Math.random() * 5) + 3
    const def = Math.floor(Math.random() * 5) + 3
    const mp = Math.floor(Math.random() * 5) + 3
    const hp = Math.floor(Math.random() * 5) + 3

    setTimeout(() => {
        LOG(`${Name}の最大HPは${hp}上がった`)

        setTimeout(() => {
            LOG(`${Name}の最大MPは${mp}上がった`)

            setTimeout(() => {
                LOG(`${Name}の攻撃力は${atk}上がった`)

                setTimeout(() => {
                    LOG(`${Name}の防御力は${def}上がった`)
        
                }, 500);
            }, 500);
        }, 500);
    }, 500);

    ATK += atk
    DEF += def
    M_HP += hp
    HP = M_HP
    M_MP += mp
    MP = M_MP
}


function LOG(a) {

    log_F = document.getElementById('a').textContent
    log_S = document.getElementById('b').textContent
    log_T = document.getElementById('c').textContent
    
    const first = log_T
    const second = log_S
    const third = log_F
    const forth = a

    document.getElementById('a').textContent = forth
    document.getElementById('b').textContent = third
    document.getElementById('c').textContent = second
    document.getElementById('d').textContent = first

}



function edit(e) {
    if (count < 4) {
        const about = document.getElementById('NAME').textContent
        document.getElementById('NAME').textContent = about.replace(`${about[count]}`,`${hiragana[e]}`)        
        count++
    }
}



function some(e) {
    if (e == "1") {
        const about = document.getElementById('NAME').textContent
        document.getElementById('NAME').textContent = about.replace(`${about[count-1]}`,'＊')
        count--
    } else if (e == "2") {
        if (document.getElementById('NAME').textContent == "＊＊＊＊") {
            Name = "あんです"
        } else {
            for (let n = 0; n < 4; n++) {
                let a = document.getElementById('NAME').textContent[n].replace('＊','') 
                Name = Name + a
            }

        };

        STARTED = "Yes"
        document.getElementById('setting').remove()
        M_HP = Math.floor(Math.random() * 10) + 5
        M_MP = 0
        HP = M_HP
        ATK = Math.floor(Math.random() * 3) + 7
        DEF = Math.floor(Math.random() * 7) + 5
        MAP()
    }

}

function die() {
    location.reload()   
}

function D() {
    x = -4
    y = 3
    where = l_D2
    MAP()
}